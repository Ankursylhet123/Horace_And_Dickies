{% extends "base.html" %}

{% block title %}Add Sale{% endblock %}

{% block content %}
<h1 class="mb-4">Add a Sale</h1>
<form action="{{ url_for('add_sale') }}" method="post">

    <!-- Date Field -->
    <div class="mb-3">
        <label for="date" class="form-label">Date:</label>
        <input type="date" id="date" name="date" class="form-control" required>
    </div>

    <!-- Cash Sale Field -->
    <div class="mb-3">
        <label for="cash_sale" class="form-label">Cash Sale:</label>
        <input type="number" id="cash_sale" name="cash_sale" class="form-control" step="0.01" required oninput="calculateTotal()">
    </div>

    <!-- Card Sale Field -->
    <div class="mb-3">
        <label for="card_sale" class="form-label">Card Sale:</label>
        <input type="number" id="card_sale" name="card_sale" class="form-control" step="0.01" required oninput="calculateTotal()">
    </div>

    <!-- Total Sale Field -->
    <div class="mb-3">
        <label for="total_sale" class="form-label">Total Sale:</label>
        <input type="number" id="total_sale" name="total_sale" class="form-control" step="0.01" readonly>
    </div>

    <!-- Tips Field -->
    <div class="mb-3">
        <label for="tips" class="form-label">Tips:</label>
        <input type="number" id="tips" name="tips" class="form-control" step="0.01" required>
    </div>

    <!-- Tax Field -->
    <div class="mb-3">
        <label for="tax" class="form-label">Tax:</label>
        <input type="number" id="tax" name="tax" class="form-control" step="0.01" required>
    </div>

    <!-- Expense Field -->
    <div class="mb-3">
        <label for="expense" class="form-label">Expense:</label>
        <input type="number" id="expense" name="expense" class="form-control" step="0.01" required>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">Submit</button>
</form>

<!-- Navigation Links -->
<div class="mt-3">
    <a href="{{ url_for('view_sales') }}" class="btn btn-secondary">View Sales</a>
    <a href="{{ url_for('export_sales') }}" class="btn btn-success">Export Sales Data</a>
</div>

<!-- Home Button -->
<div class="text-center mt-5">
    <a href="{{ url_for('welcome') }}" class="btn btn-lg" style="background-color: #f39c12; color: white; font-weight: bold;">
        üè† Back to Home
    </a>
</div>

<script>
    // JavaScript to auto-calculate Total Sale
    function calculateTotal() {
        const cashSale = parseFloat(document.getElementById('cash_sale').value) || 0;
        const cardSale = parseFloat(document.getElementById('card_sale').value) || 0;
        document.getElementById('total_sale').value = cashSale + cardSale;
    }
</script>
{% endblock %}
